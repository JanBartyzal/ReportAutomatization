# ============================================================================
# PPTX-AI-Analyzer Backend Configuration
# ============================================================================
# Copy this file to .env and fill in your actual values
# DO NOT commit .env to version control
# ============================================================================

# ----------------------------------------------------------------------------
# DATABASE CONFIGURATION (REQUIRED)
# ----------------------------------------------------------------------------
# PostgreSQL connection string
# Format: postgresql://username:password@host:port/database
DATABASE_URL=postgresql://user:password@localhost:5432/pptx_analyzer

# ----------------------------------------------------------------------------
# REDIS CONFIGURATION (REQUIRED)
# ----------------------------------------------------------------------------
# Redis connection string for caching
# Format: redis://host:port/db_number
REDIS_URL=redis://localhost:6379/0

# ----------------------------------------------------------------------------
# AZURE AUTHENTICATION (REQUIRED FOR PRODUCTION)
# ----------------------------------------------------------------------------
# Azure AD Application (App Registration) Client ID
AZURE_CLIENT_ID=your-azure-ad-client-id

# Azure AD Tenant ID
AZURE_TENANT_ID=your-azure-ad-tenant-id

# ----------------------------------------------------------------------------
# APPLICATION SETTINGS
# ----------------------------------------------------------------------------
# Environment mode: "development" or "production"
# In development mode, authentication is mocked for local testing
API_ENV=development

# Comma-separated list of allowed CORS origins
# Add your frontend URLs here
CORS_ORIGINS=http://localhost:5173,http://127.0.0.1:5173

# ----------------------------------------------------------------------------
# AI / LLM CONFIGURATION
# ----------------------------------------------------------------------------
# LiteLLM model name for embeddings and completions
# Options: text-embedding-ada-002 (Azure OpenAI), or local Ollama models
MODEL_NAME=text-embedding-ada-002

# ----------------------------------------------------------------------------
# OCR CONFIGURATION
# ----------------------------------------------------------------------------
# Minimum OCR confidence threshold (0-100)
# Tables with confidence below this value trigger AI Vision fallback
OCR_CONFIDENCE_THRESHOLD=85

# ----------------------------------------------------------------------------
# CACHE CONFIGURATION
# ----------------------------------------------------------------------------
# Redis cache time-to-live in days
# Determines how long extracted image data is cached
CACHE_TTL_DAYS=7

# ----------------------------------------------------------------------------
# FILE STORAGE
# ----------------------------------------------------------------------------
# Directory for uploaded files (PPTX, Excel, etc.)
# Path relative to backend directory or absolute path
UPLOAD_DIR=local_data/uploads

# ============================================================================
# OPTIONAL: ADVANCED CONFIGURATION
# ============================================================================

# Logging level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
# LOG_LEVEL=INFO

# Maximum file upload size in bytes (50MB default)
# MAX_UPLOAD_SIZE=52428800

# Database connection pool size
# DB_POOL_SIZE=5

# ============================================================================
# SECURITY NOTES
# ============================================================================
# - Never commit this file with real credentials to version control
# - Use strong, unique passwords for database and Redis
# - Rotate Azure AD client secrets regularly
# - In production, use Azure Key Vault or similar secret management
# - Ensure DATABASE_URL and REDIS_URL use encrypted connections (SSL/TLS)
# ============================================================================
